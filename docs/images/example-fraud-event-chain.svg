<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 500" width="1100" height="500">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#64748b"/>
    </marker>
    <marker id="arrow-down" markerWidth="6" markerHeight="8" refX="3" refY="8" orient="auto">
      <polygon points="0 0, 3 8, 6 0" fill="#94a3b8"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1100" height="500" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="550" y="28" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">Seven-Stage Event Chain</text>
  <text x="550" y="44" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="11" fill="#64748b">Each stage generates events and alerts for complete audit trail</text>
  
  <!-- Stage 1 -->
  <g transform="translate(30, 70)">
    <rect width="130" height="160" rx="8" fill="white" stroke="#3b82f6" stroke-width="2"/>
    <circle cx="20" cy="20" r="14" fill="#3b82f6"/>
    <text x="20" y="25" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">1</text>
    <text x="70" y="20" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Transaction</text>
    <text x="70" y="32" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Enters Pipeline</text>
    
    <text x="10" y="55" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Rules engines</text>
    <text x="10" y="68" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Behavioural analytics</text>
    <text x="10" y="81" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Sanctions screening</text>
    
    <rect x="5" y="95" width="120" height="55" rx="4" fill="#fef2f2"/>
    <text x="65" y="110" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">ALERTS</text>
    <text x="10" y="125" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Risk score spike</text>
    <text x="10" y="138" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Rule cascade anomaly</text>
  </g>
  
  <!-- Arrow -->
  <line x1="165" y1="150" x2="180" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Stage 2 -->
  <g transform="translate(185, 70)">
    <rect width="120" height="160" rx="8" fill="white" stroke="#3b82f6" stroke-width="2"/>
    <circle cx="20" cy="20" r="14" fill="#3b82f6"/>
    <text x="20" y="25" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">2</text>
    <text x="65" y="20" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Case</text>
    <text x="65" y="32" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Creation</text>
    
    <text x="10" y="55" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• case_id assigned</text>
    <text x="10" y="68" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Metadata captured</text>
    <text x="10" y="81" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Snapshot attached</text>
    
    <rect x="5" y="95" width="110" height="55" rx="4" fill="#fef2f2"/>
    <text x="60" y="110" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">ALERTS</text>
    <text x="10" y="125" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Repeated flags</text>
    <text x="10" y="138" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Signal conflicts</text>
  </g>
  
  <!-- Arrow -->
  <line x1="310" y1="150" x2="325" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Stage 3 (AI - highlighted) -->
  <g transform="translate(330, 70)">
    <rect width="130" height="160" rx="8" fill="white" stroke="#8b5cf6" stroke-width="3"/>
    <circle cx="20" cy="20" r="14" fill="#8b5cf6"/>
    <text x="20" y="25" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">3</text>
    <text x="70" y="20" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">AI Enrichment</text>
    <text x="70" y="32" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#8b5cf6">★ SENTINEL AI</text>
    
    <text x="10" y="55" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Context aggregation</text>
    <text x="10" y="68" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Narrative summary</text>
    <text x="10" y="81" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Triage recommendation</text>
    
    <rect x="5" y="95" width="120" height="55" rx="4" fill="#fef2f2"/>
    <text x="65" y="110" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">ALERTS</text>
    <text x="10" y="125" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Decision conflict</text>
    <text x="10" y="138" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Uncertainty spike</text>
  </g>
  
  <!-- Arrow -->
  <line x1="465" y1="150" x2="480" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Stage 4 -->
  <g transform="translate(485, 70)">
    <rect width="120" height="160" rx="8" fill="white" stroke="#22c55e" stroke-width="2"/>
    <circle cx="20" cy="20" r="14" fill="#22c55e"/>
    <text x="20" y="25" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">4</text>
    <text x="65" y="20" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Guardrail</text>
    <text x="65" y="32" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Enforcement</text>
    
    <text x="10" y="55" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• No fraud override</text>
    <text x="10" y="68" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• No sanctions suppress</text>
    <text x="10" y="81" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Schema validation</text>
    
    <rect x="5" y="95" width="110" height="55" rx="4" fill="#fef2f2"/>
    <text x="60" y="110" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">ALERTS</text>
    <text x="10" y="125" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Override attempt</text>
    <text x="10" y="138" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Policy violation</text>
  </g>
  
  <!-- Arrow -->
  <line x1="610" y1="150" x2="625" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Stage 5 -->
  <g transform="translate(630, 70)">
    <rect width="130" height="160" rx="8" fill="white" stroke="#f59e0b" stroke-width="2"/>
    <circle cx="20" cy="20" r="14" fill="#f59e0b"/>
    <text x="20" y="25" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">5</text>
    <text x="70" y="20" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Human</text>
    <text x="70" y="32" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Analyst Review</text>
    
    <text x="10" y="55" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• View all signals</text>
    <text x="10" y="68" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Decide: block/allow</text>
    <text x="10" y="81" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Can override AI</text>
    
    <rect x="5" y="95" width="120" height="55" rx="4" fill="#fef2f2"/>
    <text x="65" y="110" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">ALERTS</text>
    <text x="10" y="125" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• High override rate</text>
    <text x="10" y="138" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• SLA breach</text>
  </g>
  
  <!-- Arrow -->
  <line x1="765" y1="150" x2="780" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Stage 6 -->
  <g transform="translate(785, 70)">
    <rect width="120" height="160" rx="8" fill="white" stroke="#64748b" stroke-width="2"/>
    <circle cx="20" cy="20" r="14" fill="#64748b"/>
    <text x="20" y="25" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">6</text>
    <text x="65" y="20" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Enforcement</text>
    <text x="65" y="32" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">&amp; Downstream</text>
    
    <text x="10" y="55" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Payment processor</text>
    <text x="10" y="68" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Account controls</text>
    <text x="10" y="81" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Notifications</text>
    
    <rect x="5" y="95" width="110" height="55" rx="4" fill="#fef2f2"/>
    <text x="60" y="110" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">ALERTS</text>
    <text x="10" y="125" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Enforcement fail</text>
    <text x="10" y="138" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Reconciliation error</text>
  </g>
  
  <!-- Arrow -->
  <line x1="910" y1="150" x2="925" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Stage 7 -->
  <g transform="translate(930, 70)">
    <rect width="130" height="160" rx="8" fill="white" stroke="#0d9488" stroke-width="2"/>
    <circle cx="20" cy="20" r="14" fill="#0d9488"/>
    <text x="20" y="25" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">7</text>
    <text x="70" y="20" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Post-Event</text>
    <text x="70" y="32" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">Assurance</text>
    
    <text x="10" y="55" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Judge evaluation</text>
    <text x="10" y="68" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Drift analysis</text>
    <text x="10" y="81" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b">• Typology learning</text>
    
    <rect x="5" y="95" width="120" height="55" rx="4" fill="#fef2f2"/>
    <text x="65" y="110" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">ALERTS</text>
    <text x="10" y="125" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Drift cluster</text>
    <text x="10" y="138" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#7f1d1d">• Systematic bias</text>
  </g>
  
  <!-- Timing bands at bottom -->
  <rect x="30" y="260" width="285" height="30" rx="4" fill="#3b82f6"/>
  <text x="172" y="280" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="white">INLINE (ms) — Fraud engines dominate</text>
  
  <rect x="330" y="260" width="275" height="30" rx="4" fill="#8b5cf6"/>
  <text x="467" y="280" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="white">NEAR-RT (sec) — AI enrichment</text>
  
  <rect x="630" y="260" width="430" height="30" rx="4" fill="#f59e0b"/>
  <text x="845" y="280" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="white">HUMAN + NEARLINE (min+) — Decision &amp; learning</text>
  
  <!-- Alert aggregation -->
  <rect x="30" y="310" width="1030" height="80" rx="8" fill="#f1f5f9" stroke="#e2e8f0"/>
  <text x="550" y="335" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e293b">All Alerts Flow to Central Aggregation</text>
  
  <!-- Alert flow arrows -->
  <g transform="translate(0, 50)">
    <line x1="95" y1="200" x2="95" y2="270" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3" marker-end="url(#arrow-down)"/>
    <line x1="245" y1="200" x2="245" y2="270" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3" marker-end="url(#arrow-down)"/>
    <line x1="395" y1="200" x2="395" y2="270" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3" marker-end="url(#arrow-down)"/>
    <line x1="545" y1="200" x2="545" y2="270" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3" marker-end="url(#arrow-down)"/>
    <line x1="695" y1="200" x2="695" y2="270" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3" marker-end="url(#arrow-down)"/>
    <line x1="845" y1="200" x2="845" y2="270" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3" marker-end="url(#arrow-down)"/>
    <line x1="995" y1="200" x2="995" y2="270" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3" marker-end="url(#arrow-down)"/>
  </g>
  
  <!-- Aggregation outputs -->
  <rect x="150" y="350" width="150" height="30" rx="4" fill="white" stroke="#64748b"/>
  <text x="225" y="370" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#64748b">Per-Case Timeline</text>
  
  <rect x="400" y="350" width="150" height="30" rx="4" fill="white" stroke="#64748b"/>
  <text x="475" y="370" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#64748b">Cross-Case Analytics</text>
  
  <rect x="650" y="350" width="150" height="30" rx="4" fill="white" stroke="#64748b"/>
  <text x="725" y="370" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#64748b">ML Anomaly Detection</text>
  
  <rect x="900" y="350" width="150" height="30" rx="4" fill="white" stroke="#64748b"/>
  <text x="975" y="370" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#64748b">Circuit Breakers</text>
  
  <!-- Key insight -->
  <rect x="250" y="410" width="600" height="35" rx="6" fill="#fef3c7" stroke="#f59e0b"/>
  <text x="550" y="433" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="9" font-weight="bold" fill="#64748b">Every stage emits events. Aggregation builds the full story and detects patterns.</text>
</svg>
